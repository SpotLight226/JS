<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form name="actionForm">
      아이디:<input type="text" name="id" onkeypress="enterFunc()" />

      비밀번호:<input type="password" name="pw" onkeypress="enterFunc()" />

      ...생략

      <button type="submit" id="btn" onclick="joinCheck()">가입</button>
    </form>

    <script>
      function joinCheck() {
        // 각 id 와 pw의 값을 가져온다
        var id = document.actionForm.id.value;
        var pw = document.actionForm.pw.value;

        // id 와 pw를 검사할 정규 표현식을 변수로 선언
        var regExp1 = /^[a-z]+[a-z0-9]{5,19}$/g; // 소문자, 숫자 5~19
        var regExp2 =
          /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/; // 대문자 소문자 특수문자,숫자 최소 1개 8~

        // id 태그의 값(value)를 test 맞으면 true 이므로 false일 때를 설정
        if (!regExp1.test(id)) {
          alert("아이디는 소문자 숫자 5~19글자 입니다");
          return;
        }

        if (!regExp2.test(pw)) {
          alert(
            "비밀번호는 8글자 이상, 최소 한개 이상의 대문자, 소문자, 특수문자 포함입니다"
          );
          return;
        }

        document.actionForm.submit();
      }

      // keypress : 누르고 있다면 계속 동작
      // keydown : 눌렀을 때
      // keyup : 눌렀다 땔 때
      function enterFunc() {
        // console.log(event);

        if (event.keyCode === 13) {
          // 사용자 엔터
          joinCheck();
        }
      }
    </script>
  </body>
</html>
